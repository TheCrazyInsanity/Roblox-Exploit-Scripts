repeat wait() until game:IsLoaded() and game.Players and game.Players.LocalPlayer and game.Players.LocalPlayer.Character
wait(1)
local function chat (msg) 
game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")
end



local Players = game:GetService("Players")
onPlayerChat = function(chat_type,recipient,message)
print(chat_type)
print(recipient)
print(message)
--help
if (message == "!help" or message == "!cmds") then
chat("Current commands are:")
wait(0.5)
chat("!MRE -- Gives you an mre lunchbox (mom packed a gogurt)")
wait(0.5)
chat("!water -- Gives you a water bottle (Its not dasani)")
wait(0.5)
chat("!scrap -- Gives you 500 scrap")
wait(0.5)
chat("!ammo -- Gives you lots of ammo (Case sensitve, e.g. to get light ammo would be !ammo Light)")
wait(0.5)
chat("Item spawning soon!")
end


--mre
if (message == "!MRE" or message == "!mre" or message == "!lunchbox") then
local cache = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = recipient.Character.HumanoidRootPart.CFrame
wait(0.25)
local string_1 = "rations";
local string_2 = "MRE";
local Target = game:GetService("Workspace").ServerStuff.dropAmmo;
Target:FireServer(string_1, string_2);
wait(0.25)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = cache
end

--bottle
if (message == "!water" or message == "!bottle" or message == "!thirsty" or message == "!aquafill") then
local cache = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = recipient.Character.HumanoidRootPart.CFrame
wait(0.25)
--item, change this
local string_1 = "rations";
local string_2 = "Bottle";
local Target = game:GetService("Workspace").ServerStuff.dropAmmo;
Target:FireServer(string_1, string_2);

wait(0.25)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = cache
end

--scrap
if (message == "!scrap") then
local cache = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = recipient.Character.HumanoidRootPart.CFrame
wait(0.25)
--item, change this

local string_1 = "scrap";
local number_1 = 500;
local Target = game:GetService("Workspace").ServerStuff.dropAmmo;
Target:FireServer(string_1, number_1);

wait(0.25)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = cache
chat("Warning! Do NOT go over 1999 scrap, as you will get kicked and may risk a perm ban!")
end
--ammo
if (message:match(".*!ammo.*")) then
ammotype = message:split(" ")
    if (not ammotype[2] == "Light" or not ammotype[2] == "Short" or not ammotype[2] == "Small" or not ammotype[2] == "Medium" or not ammotype[2] == "Heavy" or not ammotype[2] == "Long" or not ammotype[2] == "Shells") then
        chat("Invalid ammo type, make sure to use caps,")
        wait(0.25)
        chat("e.g. if you want to get light ammo do !ammo Light")
        end
local cache = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = recipient.Character.HumanoidRootPart.CFrame
wait(0.25)
--item, change this
for i = 1,20 do
wait()
local string_1 = ammotype[2]
local number_1 = 500;
local Target = game:GetService("Workspace").ServerStuff.dropAmmo;
Target:FireServer(string_1, number_1);
end

wait(0.25)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = cache

--chat("If you received nothing, make sure you are using the command properly, e.g if you wanted light ammo do !ammo Light")
--chat("Warning! There may be a limit to how much ammo you can hold that will kick or perm ban you if you go over it, although i am not sure if it is real or the amount (i have safely reached 500), Better safe than sorry!")
end

end

Players.PlayerChatted:Connect(onPlayerChat)
